<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>경매톡 관리자 - AuctionTalk Admin</title>
    <link rel="stylesheet" href="css/admin.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
</head>
<body>
    <div id="login-screen" class="login-screen">
        <div class="login-box">
            <div class="login-logo">
                <i class="fas fa-gavel"></i>
                <h1>경매톡 관리자</h1>
                <p>AuctionTalk Admin</p>
            </div>
            <form id="login-form" class="login-form" onsubmit="return handleLoginDirect(event)">
                <div class="form-group">
                    <label for="admin-username"><i class="fas fa-user"></i> 아이디</label>
                    <input type="text" id="admin-username" name="username" placeholder="관리자 ID" required>
                </div>
                <div class="form-group">
                    <label for="admin-password"><i class="fas fa-lock"></i> 비밀번호</label>
                    <input type="password" id="admin-password" name="password" placeholder="비밀번호" required>
                </div>
                <button type="submit" class="btn btn-primary btn-block">
                    <i class="fas fa-sign-in-alt"></i> 로그인
                </button>
                <p class="login-help">데모 계정: admin / admin1234</p>
            </form>
        </div>
    </div>

    <div id="admin-dashboard" class="admin-dashboard" style="display: none;">
        <aside class="sidebar">
            <div class="sidebar-header">
                <i class="fas fa-gavel"></i>
                <span>경매톡 관리자</span>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="nav-item active" data-page="dashboard"><i class="fas fa-chart-line"></i> 대시보드</a>
                <a href="#" class="nav-item" data-page="inquiries"><i class="fas fa-inbox"></i> 문의 관리</a>
                <a href="#" class="nav-item" data-page="statistics"><i class="fas fa-chart-bar"></i> 통계 리포트</a>
                <a href="#" class="nav-item" data-page="consultants"><i class="fas fa-users"></i> 상담사 관리</a>
                <a href="#" class="nav-item" data-page="automation"><i class="fas fa-cog"></i> 자동화 설정</a>
            </nav>
            <div class="sidebar-footer">
                <a href="index.html" class="btn btn-secondary btn-sm"><i class="fas fa-home"></i> 메인으로</a>
                <button onclick="logout()" class="btn btn-secondary btn-sm"><i class="fas fa-sign-out-alt"></i> 로그아웃</button>
            </div>
        </aside>

        <main class="main-content">
            <div id="dashboard-page" class="page active">
                <div class="page-header"><h1>대시보드</h1><p>실시간 통계 및 최근 문의 현황</p></div>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-icon blue"><i class="fas fa-inbox"></i></div><div class="stat-info"><h3 id="stat-today">0</h3><p>오늘 문의</p></div></div>
                    <div class="stat-card"><div class="stat-icon yellow"><i class="fas fa-clock"></i></div><div class="stat-info"><h3 id="stat-pending">0</h3><p>대기중</p></div></div>
                    <div class="stat-card"><div class="stat-icon green"><i class="fas fa-phone"></i></div><div class="stat-info"><h3 id="stat-inprogress">0</h3><p>상담중</p></div></div>
                    <div class="stat-card"><div class="stat-icon purple"><i class="fas fa-check-circle"></i></div><div class="stat-info"><h3 id="stat-completed">0</h3><p>계약완료</p></div></div>
                </div>
                <div class="performance-grid">
                    <div class="perf-card"><h4>총 문의 건수</h4><p class="perf-value" id="perf-total">0</p></div>
                    <div class="perf-card"><h4>완료 상담</h4><p class="perf-value" id="perf-consultations">0</p></div>
                    <div class="perf-card"><h4>계약 건수</h4><p class="perf-value" id="perf-contracts">0</p></div>
                    <div class="perf-card"><h4>예상 수수료</h4><p class="perf-value" id="perf-fees">0원</p></div>
                </div>
                <div class="recent-inquiries"><h2>최근 문의</h2><div id="recent-inquiries-list"></div></div>
            </div>

            <div id="inquiries-page" class="page">
                <div class="page-header"><h1>문의 관리</h1></div>
                <div class="filters">
                    <select id="filter-status" class="filter-select"><option value="">전체 상태</option><option value="pending">대기중</option><option value="inprogress">상담중</option><option value="completed">완료</option></select>
                    <input type="text" id="search-input" class="search-input" placeholder="이름, 연락처 검색...">
                </div>
                <div class="table-container">
                    <table class="data-table">
                        <thead><tr><th>접수일</th><th>이름</th><th>연락처</th><th>물건유형</th><th>예상낙찰가</th><th>상태</th><th>담당자</th><th>작업</th></tr></thead>
                        <tbody id="inquiries-table-body"></tbody>
                    </table>
                </div>
            </div>

            <div id="statistics-page" class="page">
                <div class="page-header"><h1>통계 리포트</h1></div>
                <div class="stats-report">
                    <div class="report-card"><h3>이번 달 문의</h3><p class="report-value" id="report-inquiries">0건</p></div>
                    <div class="report-card"><h3>일평균 문의</h3><p class="report-value" id="report-daily-avg">0건</p></div>
                    <div class="report-card"><h3>전환율</h3><p class="report-value" id="report-conversion">0%</p></div>
                    <div class="report-card"><h3>계약 건수</h3><p class="report-value" id="report-contracts">0건</p></div>
                </div>
            </div>

            <div id="consultants-page" class="page">
                <div class="page-header"><h1>상담사 관리</h1></div>
                <div id="consultants-list" class="consultants-admin-list"></div>
            </div>

            <div id="automation-page" class="page">
                <div class="page-header"><h1>자동화 설정</h1></div>
                <div class="automation-settings">
                    <div class="setting-card"><div class="setting-header"><h3><i class="fas fa-sms"></i> SMS 자동 발송</h3><label class="toggle"><input type="checkbox" id="sms-auto"><span class="toggle-slider"></span></label></div><p>신청 접수 시 고객에게 자동으로 SMS 발송</p></div>
                    <div class="setting-card"><div class="setting-header"><h3><i class="fas fa-envelope"></i> 이메일 알림</h3><label class="toggle"><input type="checkbox" id="email-auto"><span class="toggle-slider"></span></label></div><p>새 문의 시 관리자에게 이메일 알림</p></div>
                    <div class="setting-card"><div class="setting-header"><h3><i class="fas fa-robot"></i> AI 분석 자동 실행</h3><label class="toggle"><input type="checkbox" id="ai-auto" checked><span class="toggle-slider"></span></label></div><p>문의 접수 시 대출 가능성 AI 자동 분석</p></div>
                </div>
            </div>
        </main>
    </div>

    <div id="inquiry-modal" class="modal">
        <div class="modal-content modal-large">
            <span class="modal-close">&times;</span>
            <div id="inquiry-detail"></div>
        </div>
    </div>

    <script>
    function handleLoginDirect(e) {
        e.preventDefault();
        const username = document.getElementById('admin-username').value;
        const password = document.getElementById('admin-password').value;
        if (username === 'admin' && password === 'admin1234') {
            document.getElementById('login-screen').style.display = 'none';
            document.getElementById('admin-dashboard').style.display = 'flex';
        } else {
            alert('아이디 또는 비밀번호가 올바르지 않습니다.\n\n올바른 계정:\n아이디: admin\n비밀번호: admin1234');
        }
        return false;
    }

    function logout() {
        if (confirm('로그아웃 하시겠습니까?')) {
            document.getElementById('login-screen').style.display = 'flex';
            document.getElementById('admin-dashboard').style.display = 'none';
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        document.querySelectorAll('.nav-item').forEach(item => {
            item.addEventListener('click', (e) => {
                e.preventDefault();
                const page = item.getAttribute('data-page');
                document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                item.classList.add('active');
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                document.getElementById(page + '-page').classList.add('active');
            });
        });

        const modal = document.getElementById('inquiry-modal');
        if (modal) {
            modal.querySelector('.modal-close').addEventListener('click', () => modal.classList.remove('show'));
        }
    });
    </script>
    <script src="js/admin.js"></script>
</body>
</html>
